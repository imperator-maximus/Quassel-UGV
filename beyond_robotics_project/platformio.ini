[env:beyond_robotics_dev_board]
platform = ststm32
board = nucleo_l432kc
framework = arduino

; Upload configuration for STM-LINK V3
upload_protocol = stlink
debug_tool = stlink

; Beyond Robotics Dev Board uses STM32L431 (Micro Node)
; Standard STM32L4 configuration should work

; Serial monitor configuration
monitor_speed = 115200
monitor_port = COM8

; Build flags for STM32L431
build_flags =
    -D ARDUINO_ARCH_STM32
    -D STM32L4xx
    -D BOARD_NAME="Beyond_Robotics_Dev_Board"
    -D HAL_CAN_MODULE_ENABLED
    -D USE_HAL_DRIVER

; Library dependencies for CAN communication
lib_deps =
    ; Using built-in STM32 HAL CAN support - no external libraries needed

; Source files - using default src/ directory
; src_filter not needed for standard project structure

; Debug configuration
debug_init_break = tbreak setup

[env:beyond_robotics_dev_board_debug]
extends = env:beyond_robotics_dev_board
build_type = debug
build_flags =
    ${env:beyond_robotics_dev_board.build_flags}
    -D DEBUG=1
    -O0
    -g3
